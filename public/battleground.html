<!doctype html>
<html lang="ru">
  <head>
    <!-- Обязательные метатеги -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
     <!-- Custom css -->
     <link href="./assets/battleground.css" rel="stylesheet"/>
    <title>battleground</title>
    <script defer src="http://localhost:3000/socket.io/socket.io.js"></script>
    <script defer src="./assets/Scripts/game.js"></script>

    <script type="text/javascript">
        $(window).on('load',function(){
            $('topics-main').modal('show');
        });
    </script>
  </head>
  <body>
     <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4" crossorigin="anonymous"></script>
    <!--Правила перекочевали из index.public-->

    <button type="button" class="btn btn-corner position-absolute top-0 end-0" data-bs-toggle="modal" data-bs-target="#rules">
      <!-- <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-book" viewBox="0 0 16 16">
        <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
      </svg> -->
      rules
    </button>
      <div class="modal fade" id="rules" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header" style="background-color: #33449C !important;">
              <h3 class="modal-title text-white" id="rulesTextView">
              Rules!</h3>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="">
               <ol type="1">
                  <li>Два игрока подключаются на сайт и начинают свое пошаговое состязание, длящееся не более 10 минут. У каждого игрока есть 3 главных поля, которые нужно захватить сопернику, остальные поля изначально нейтральные.</li>
                  <li>Чтобы захватить какую-то конкретную зону, игроку необходимо правильно ответить на вопрос выбранного поля(вопросы на полях выбираются исходя из выбранных заранее категорий, выбираемых игроками) за определенный промежуток времени. Если игрок дал верный ответ, тогда он получает +очки, а поле переходит в его распоряжение и он может выбрать категорию, которую придется отвечать сопернику, если тот попытается перехватить эту зону в дальнейшем. За перехват зоны игрок получает количество очков, равное: стандарная сумма + ставка игрока * 2</li>
                  <li>Когда же игрок достигает главных клеток соперника, начинается дуэль:
                     <ol type="i">
                        <li>Игрокам предстоит отвечать на вопросы пока дуэль не закончится, либо пока нападающий не наберет 3 очка-дуэли.</li>
                        <li>В течение 10 секунд, дающихся на размышление, игрокам необходимо выбрать правильный вариант ответа. Если нападавший ответил верно, а защищавшийся нет, тогда нападавшему достается одно очко-дуэль. Если защищавшийся ответил верно, а нападавший нет, тогда дуэль завершается победой защитника, и он получает стандарное число очков. Если оба участника ответили неверно, клетка остается у защищавшегося, но он теряет стандартное число очков(количесво очков не может быть отрицательным). Если же оба ответили правильно, тогда дуэль продолжается.</li>
                        <li>Такая зона после захвата переходит в распоряжение игрока, захватившего ее, но в случае перехвата она не станет снова главной клеткой соперника.</li>
                     </ol>
                  </li>
                  <li>Побеждает тот, кто захватил больше главных клеток соперника. Если оба игрока имеют одинаковое число таких захваченых клеток, тогда победа уходит тому, кто набрал больше очков по итогам игры. Иначе ничья.</li>
              </ol>
            </div>
          </div>
        </div>
      </div>

      <!-- Contact us -->
      <!-- Contacts -->
      <button type="button" class="btn btn-corner position-absolute bottom-0 end-0" data-bs-toggle="modal" data-bs-target="#contact">
        contacts
      </button>
      <div class="modal fade" id="contact" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content" style="">
            <div class="modal-header" style="background-color: #33449C !important;">
              <h3 class="modal-title text-white" id="contactTextView">Contact us!</h3>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" style="">
               <p>We're poor students, so if you want to support us you can conntact us and send us some money</p>
               <p>To contacs us use links below</p>
               <p><a href="https://github.com/bmstu-iu9/ptp2021-8-tabletop-game" class="link-info">Our github</a> |
                <a href="https://vk.com/ceeeeeeeeeeeeeeeeeeeeeb" class="link-info">Our teamlead</a> |
                <a href="https://vk.com/pur3vessel" class="link-info">Just otec</a></p>
            </div>
          </div>
        </div>
      </div>

      <!--
        Если вам понадобится что то сделать при нажатии на определнное поле, просто напишите вызов вашей функии, вместо alert
      -->
      <div class="container-fluid">
        <div class="row">
          <div class="col">
            <div class="hexagon first-col-move" onclick="onclickHex(1)" id="1Hex">
  
            </div>
            <div class="retreat first-col-move">

            </div>
            <div class="hexagon first-col-move" onclick="onclickHex(2)" id="2Hex">
  
            </div>
          </div>
          <div class="col">
            <div class="hexagon-blue second-col-move" onclick="onclickHex(3)" id="3Hex">
  
            </div>
            <div class="retreat second-col-move">

            </div>
            <div class="hexagon second-col-move" onclick="onclickHex(4)" id="4Hex"> 
  
            </div>
            <div class="retreat second-col-move" >

            </div>
            <div class="hexagon-empty second-col-move">

            </div>
            <div class="retreat second-col-move">

            </div>
            <div class="hexagon second-col-move" onclick="onclickHex(5)" id="5Hex">
  
            </div>
            <div class="retreat second-col-move">

            </div>
            <div class="hexagon-red second-col-move" onclick="onclickHex(6)" id="6Hex">
  
            </div>
          </div>
          <div class="col">
            <div class="hexagon-blue third-col-move" onclick="onclickHex(7)" id="7Hex">
  
            </div>
            <div class="retreat third-col-move">

            </div>
            <div class="hexagon third-col-move" onclick="onclickHex(8)" id="8Hex">
  
            </div>
            <div class="retreat third-col-move">

            </div>
            <div class="hexagon third-col-move" onclick="onclickHex(9)" id="9Hex">
  
            </div>
            <div class="retreat third-col-move">

            </div>
            <div class="hexagon third-col-move" onclick="onclickHex(10)" id="10Hex">
  
            </div>
            <div class="retreat third-col-move">

            </div>
            <div class="hexagon third-col-move" onclick="onclickHex(11)" id="11Hex">
  
            </div>
            <div class="retreat third-col-move">

            </div>
            <div class="hexagon-red third-col-move" onclick="onclickHex(12)" id="12Hex">
  
            </div>
          </div>
          <div class="col">
            <div class="hexagon-blue fourth-col-move" onclick="onclickHex(13)" id="13Hex">
  
            </div>
            <div class="retreat fourth-col-move">

            </div>
            <div class="hexagon fourth-col-move" onclick="onclickHex(14)" id="14Hex">
  
            </div>
            <div class="retreat fourth-col-move">

            </div>
            <div class="hexagon-empty fourth-col-move">

            </div>
            <div class="retreat fourth-col-move">

            </div>
            <div class="hexagon fourth-col-move" onclick="onclickHex(15)" id="15Hex">
  
            </div>
            <div class="retreat fourth-col-move">

            </div>
            <div class="hexagon-red fourth-col-move" onclick="onclickHex(16)" id="16Hex">
  
            </div>
          </div>  
          <div class="col">
            <div class="hexagon fifth-col-move" onclick="onclickHex(17)" id="17Hex">
  
            </div>
            <div class="retreat fifth-col-move">

            </div>
            <div class="hexagon fifth-col-move" onclick="onclickHex(18)" id="18Hex">
  
            </div>
          </div>
          <div class="col w-100">
            <div class="w-100" style="background-color: background-color: #33449C !important;">
              <div class="scope">
                <div class="blue-scope" id="blue-scope">
                	0
                </div>
                <div class="new-blue-scope" id="new-b">
          
                </div>
                <div class="red-scope" id="red-scope">
                	0
                </div>
                <div class="new-red-scope" id="new-r">
                </div>
              </div>
            </div>
          </div>
        </div>
    </div>  
    <div class="game-info text-center">
      <p>Ходов осталось</p>
      <p><span class="text-danger" id="red-turn-remain">10&nbsp</span>   <span class="text-primary" id="blue-turn-remain">10</span></p>
      <br>
      <p>Ход <span class="text-danger " id="turn">красного</span></p>
      <br>
      <p>Корон</p>
       <p><span class="text-danger" id="red-crowns">0&nbsp</span>  <span class="text-primary" id="blue-crowns">0</span></p>
    </div>
    
    <!--div class="question-container unselectable" id="question-container">
      <div class="question row align-items-center" id="question">
        <div class="text-center unselectable" id="question-text">
          В какой популярной кинофраншизе используется фраза "Да пребудет с тобой сила"?
        </div>  
      </div>
      <div class="answers row" id="answer">
        <div class="col-6 A-B-questions">
          <div class="A row align-items-center">
            <div class="text-center A-txt" id="A-txt" onclick="alert(1)">
              Звёздные войны
            </div>
          </div>
          <div class="B row align-items-center">
            <div class="text-center B-txt" id="B-txt" onclick="alert(2)">
              Звёздный путь
            </div>
          </div>
        </div>
        <div class="col-6 C-D-questions">
          <div class="C row align-items-center">
            <div class="text-center C-txt" id="C-txt" onclick="alert(3)">
              Невероятные приключения Джо-Джо
            </div>
          </div>
          <div class="D row align-items-center">
            <div class="text-center D-txt" id="D-txt" onclick="alert(4)">
              Терминатор
            </div>
          </div>
        </div>
      </div>
    </div-->
    
    <!-- Новый квестшн контейнер -->
    <div class="modal overflow-hidden" tabindex="-1" id="question-container">
      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-body">
            <div class="container-fluid">
              <div class="row vh-100 text-center">
                <div class="col-12" id="question">
                  <div class="con">
                    <div>
                      <p class="unselectable fw-bold fs-2" id="question-text">В какой популярной кинофраншизе используется фраза "Да пребудет с тобой сила"?</p>
                    </div>
                  </div>
                </div>
                
                <div class="col-6 bg-primary">
                  <div class="con">
                    <div class="btn ans">
                      <p class="fs-3" id="A-txt" onclick="onclickAnswer('A')">Звёздные войны</p>
                    </div>
                  </div>
                </div>
                <div class="col-6 bg-success">
                  <div class="con">
                    <div class="btn ans">
                      <p class="fs-3" id="B-txt" onclick="onclickAnswer('B')">Звёздный путь</p>
                    </div>
                  </div>
                </div>
                <div class="col-6 bg-danger">
                  <div class="con">
                    <div class="btn ans">
                      <p class="fs-3" id="C-txt" onclick="onclickAnswer('C')">Невероятные приключения Джо-Джо</p>
                    </div>
                  </div>
                </div>
                <div class="col-6 bg-warning">
                  <div class="con">
                    <div class="btn ans">
                      <p class="fs-3" id="D-txt" onclick="onclickAnswer('D')">Терминатор</p>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
      <div class="timer" id="timer">
        10
      </div>
    </div>
     <!-- Ego konec -->

     <div class="modal fade" id="topics-main">
        <div class="modal-dialog modal-fullscreen">
          <div class="modal-content">
            <div class="modal-body" style="background-color: #33449C;">
              
              <div class="container-fluid">
                <div class="row vh-100">
                  <div class="col-12 align-self-center">
                    <div class="row justify-content-center">
                      <div class="text-center text-white">
                        <h1>Choose your DESTINY!</h1>
                        <h3>Choose topics from our list</h3>
                      </div>

                      <div class="col-xl-2 col-lg-3 col-md-4 col-sm-5 p-3">
                        <div class="text-danger text-center mb-3">
                          <h5>Player 1 topics</h5>
                        </div>
                        <div class="input-group mb-2">
                          <select class="form-select" aria-label="Default select example" id='player1-select1'>
                            <option selected>Игры</option>
                            <option value="1">Литература</option>
                            <option value="2">Мемы</option>
                            <option value="3">Кино</option>
                            <option value="4">Музыка</option>
                            <option value="5">Наука</option>
                            <option value="6">Спорт</option>
                            <option value="7">Разное</option>
                          </select>
                        </div>
                        <div class="input-group mb-2">
                          <select class="form-select" aria-label="Default select example" id='player1-select2'>
                            <option selected>Мемы</option>
                            <option value="1">Литература</option>
                            <option value="2">Мемы</option>
                            <option value="3">Кино</option>
                            <option value="4">Музыка</option>
                            <option value="5">Наука</option>
                            <option value="6">Спорт</option>
                            <option value="7">Разное</option>
                          </select>
                        </div>
                        <div class="input-group mb-2">
                          <select class="form-select" aria-label="Default select example" id='player1-select3'>
                            <option selected>Кино</option>
                            <option value="1">Литература</option>
                            <option value="2">Мемы</option>
                            <option value="3">Кино</option>
                            <option value="4">Музыка</option>
                            <option value="5">Наука</option>
                            <option value="6">Спорт</option>
                            <option value="7">Разное</option>
                          </select>
                        </div>
                        <div class="input-group mb-2">
                          <select class="form-select" aria-label="Default select example" id='player1-select4'>
                            <option selected>Разное</option>
                            <option value="1">Литература</option>
                            <option value="2">Мемы</option>
                            <option value="3">Кино</option>
                            <option value="4">Музыка</option>
                            <option value="5">Наука</option>
                            <option value="6">Спорт</option>
                            <option value="7">Разное</option>
                          </select>
                        </div>
                      </div>

                      <div class="col-xl-2 col-lg-3 col-md-4 col-sm-5 p-3">
                        <div class="text-primary text-center mb-3">
                          <h5>Player 2 topics</h5>
                        </div>
                        <div class="input-group mb-2">
                          <select class="form-select" aria-label="Default select example" id='player2-select1'>
                            <option selected>Игры</option>
                            <option value="1">Литература</option>
                            <option value="2">Мемы</option>
                            <option value="3">Кино</option>
                            <option value="4">Музыка</option>
                            <option value="5">Наука</option>
                            <option value="6">Спорт</option>
                            <option value="7">Разное</option>
                          </select>
                        </div>
                        <div class="input-group mb-2">
                          <select class="form-select" aria-label="Default select example" id='player2-select2'>
                            <option selected>Мемы</option>
                            <option value="1">Литература</option>
                            <option value="2">Мемы</option>
                            <option value="3">Кино</option>
                            <option value="4">Музыка</option>
                            <option value="5">Наука</option>
                            <option value="6">Спорт</option>
                            <option value="7">Разное</option>
                          </select>
                        </div>
                        <div class="input-group mb-2">
                          <select class="form-select" aria-label="Default select example" id='player2-select3'>
                            <option selected>Кино</option>
                            <option value="1">Литература</option>
                            <option value="2">Мемы</option>
                            <option value="3">Кино</option>
                            <option value="4">Музыка</option>
                            <option value="5">Наука</option>
                            <option value="6">Спорт</option>
                            <option value="7">Разное</option>
                          </select>
                        </div>
                        <div class="input-group mb-2">
                          <select class="form-select" aria-label="Default select example" id='player2-select4'>
                            <option selected>Разное</option>
                            <option value="1">Литература</option>
                            <option value="2">Мемы</option>
                            <option value="3">Кино</option>
                            <option value="4">Музыка</option>
                            <option value="5">Наука</option>
                            <option value="6">Спорт</option>
                            <option value="7">Разное</option>
                          </select>
                        </div>
                      </div>
                      <div></div>
                      <div class="col-xl-2 col-lg-3 col-md-4 col-sm-5 p-3">
                          <button class="btn btn-light w-100" data-bs-dismiss="modal" tabindex="-1" onclick='addPreferences()'>Play!</button>
                      </div>


                    </div>
                  </div>

                  <div class="col-12"></div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>

    <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
    <script src="./assets/Scripts/loadQuestionPacks.js"></script>
    <script src="./assets/Scripts/selectRandomQuestion.js"></script>
    <script src="./assets/Scripts/checkAnswer.js"></script>
    <script src="./assets/Scripts/onclickAnswer.js"></script>
    <script src="./assets/Scripts/onclickHex.js"></script>
    <script src="./assets/Scripts/initGame.js"></script>
    <script src="./assets/Scripts/modal.js"></script>
    <script src="./assets/Scripts/categoryNameToSystemName.js"></script>
  </body>
</html>